<div class="projects">
  <div class="projects-hero">
    <div class="projects-hero-content">
      <h1>Our Projects</h1>
      <p>
        Discover a Spectrum of Innovative Projects done by the researchers at
        C2SI
      </p>
    </div>
    <img src="../../../assets/projects-img.png" alt="projects" />
  </div>

  <div class="projects-cards-container">
    <div class="projects-search">
      <div class="search-box-container">
        <span class="search-icon">ğŸ”</span>
        <input
          type="text"
          class="search-box"
          placeholder="Search projects by name..."
          [(ngModel)]="searchTerm"
          (input)="filterProjects()"
        />
      </div>
    </div>
    <ng-container *ngIf="isLoading; then loading; else content"></ng-container>
  </div>
  <button 
  class="back-to-top" 
  (click)="scrollToTop()" 
  [class.show]="showButton"
>
  <img src="../../../assets/up-arrow.svg" alt="Back to Top" width="24" height="24"> 
</button>
</div>

<ng-template #loading>
  <div class="loader"></div>
</ng-template>

<ng-template #content>
  <ng-container *ngFor="let project of filteredProjects; trackBy: trackByProjectName">
    <app-projects-card
      [name]="project.name"
      [org]="org"
      [repo]="project.name"
      [description]="project.description || ''"
      [issue]="project.open_issues_count"
      [link]="project.html_url"
      [language]="project.language || ''"
      [topics]="project.topics"
      [createdAt]="project.created_at"
      [updatedAt]="project.updated_at"
      [pullRequests]="project.pull_requests"
    ></app-projects-card>
  </ng-container>
</ng-template>
